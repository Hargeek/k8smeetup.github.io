
  
    
    

  

  
    
    

  

  
    
    

  

  
    
    

  

  
    
    

  

  
    
    

  

  
    
    

  

  
    
    

  


<!Doctype html>
<html id="docs" class="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono">
    <link rel="stylesheet" type="text/css" href="/css/styles.css"><!-- default styles.css on -->
    <link rel="stylesheet" type="text/css" href="/css/jquery-ui.min.css">
    <link rel="stylesheet" type="text/css" href="/css/sweetalert.css">
    <link rel="stylesheet" type="text/css" href="/css/callouts.css">
    <link rel="stylesheet" type="text/css" href="/css/custom-jekyll/tags.css">
    
    
    <!-- no custom css detected -->

    
    <meta name="description" content="PetSets" />
    

    <script src="/js/jquery-2.2.0.min.js"></script>
    <script src="/js/jquery-ui.min.js"></script>
    <script src="/js/script.js"></script>
    <script src="/js/sweetalert.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/custom-jekyll/tags.js"></script>
    <!-- Begin Jekyll SEO tag v2.3.0 -->
<title>PetSets | Kubernetes</title>
<meta property="og:title" content="PetSets" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Production-Grade Container Orchestration" />
<meta property="og:description" content="Production-Grade Container Orchestration" />
<link rel="canonical" href="http://0.0.0.0:4000/docs/concepts/workloads/controllers/petset/" />
<meta property="og:url" content="http://0.0.0.0:4000/docs/concepts/workloads/controllers/petset/" />
<meta property="og:site_name" content="Kubernetes" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@kubernetesio" />
<script type="application/ld+json">
{"name":null,"description":"Production-Grade Container Orchestration","author":null,"@type":"WebPage","url":"http://0.0.0.0:4000/docs/concepts/workloads/controllers/petset/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://0.0.0.0:4000/images/favicon.png"}},"image":null,"headline":"PetSets","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>


<body>

<div id="cellophane" onclick="kub.toggleMenu()"></div>

<header>
    <a href="/" class="logo"></a>

    <div class="nav-buttons" data-auto-burger="primary">
        <ul class="global-nav">
            <li><a href="/docs/home/">Documentation</a></li>
            <li><a href="http://blog.kubernetes.io/">Blog</a></li>
            <li><a href="/partners/">Partners</a></li>
            <li><a href="/community/">Community</a></li>
            <li><a href="/case-studies/">Case Studies</a></li>
            <li>
                <a href="#">
                    v1.8 <span class="ui-icon ui-icon-carat-1-s"></span>
                </a>
                <ul>
                
                  <li><a href="https://kubernetes.io/docs/home/">v1.8</a></li>
                
                  <li><a href="https://v1-7.docs.kubernetes.io/docs/home/">v1.7</a></li>
                
                  <li><a href="https://v1-6.docs.kubernetes.io/docs/home/">v1.6</a></li>
                
                  <li><a href="https://v1-5.docs.kubernetes.io/docs/">v1.5</a></li>
                
                  <li><a href="https://v1-4.docs.kubernetes.io/docs/">v1.4</a></li>
                
                </ul>
              </li>
            </li>
        </ul>
        <!-- <a href="/docs/home" class="button" id="viewDocs" data-auto-burger-exclude>View Documentation</a> -->
        <a href="/docs/tutorials/kubernetes-basics/" class="button" id="tryKubernetes" data-auto-burger-exclude>Try Kubernetes</a>
        <button id="hamburger" onclick="kub.toggleMenu()" data-auto-burger-exclude><div></div></button>
    </div>

    <nav id="mainNav">
        <main data-auto-burger="primary">
        <div class="nav-box">
            <h3><a href="/docs/tutorials/stateless-application/hello-minikube/">Get Started</a></h3>
            <p>Ready to get your hands dirty? Build a simple Kubernetes cluster that runs "Hello World" for Node.js.</p>
        </div>
        <div class="nav-box">
            <h3><a href="/docs/home/">Documentation</a></h3>
            <p>Learn how to use Kubernetes with the use of walkthroughs, samples, and reference documentation. You can even <a href="/editdocs/" data-auto-burger-exclude>help contribute to the docs</a>!</p>
        </div>
        <div class="nav-box">
            <h3><a href="/community/">Community</a></h3>
            <p>If you need help, you can connect with other Kubernetes users and the Kubernetes authors, attend community events, and watch video presentations from around the web.</p>
        </div>
        <div class="nav-box">
            <h3><a href="http://blog.kubernetes.io">Blog</a></h3>
            <p>Read the latest news for Kubernetes and the containers space in general, and get technical how-tos hot off the presses.</p>
        </div>
        </main>
        <main data-auto-burger="primary">
        <div class="left">
            <h5 class="github-invite">Interested in hacking on the core Kubernetes code base?</h5>
            <a href="https://github.com/kubernetes/kubernetes" class="button" data-auto-burger-exclude>View On Github</a>
        </div>

        <div class="right">
            <h5 class="github-invite">Explore the community</h5>
            <div class="social">
                <a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
                <a href="https://github.com/kubernetes/kubernetes" class="github"><span>Github</span></a>
                <a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
                <a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
                <a href="https://groups.google.com/forum/#!forum/kubernetes-users" class="mailing-list"><span>Mailing List</span></a>
                <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
            </div>
        </div>
        <div class="clear" style="clear: both"></div>
        </main>
    </nav>
</header>


<!--  HERO  -->
<section id="hero" class="light-text">
  <h1></h1>
  <h5></h5>
  <div id="vendorStrip" class="light-text">
    <ul>
      <li><a href="/docs/home/" >HOME</a></li>
      <li><a href="/docs/setup/" >SETUP</a></li>
      <li><a href="/docs/concepts/" >CONCEPTS</a></li>
      <li><a href="/docs/tasks/" >TASKS</a></li>
      <li><a href="/docs/tutorials/" >TUTORIALS</a></li>
      <li><a href="/docs/reference/" >REFERENCE</a></li>
    </ul>
    <div id="searchBox">
      <input type="text" id="search" placeholder="Search" onkeydown="if (event.keyCode==13) window.location.replace('/docs/search/?q=' + this.value)" autofocus="autofocus">
    </div>
  </div>
</section>




<section id="encyclopedia">
  <div id="docsToc">
        <div class="pi-accordion">
          
  

    

    
      <a class="item" data-title="Search Results" href="/docs/search/"></a>
    
  


        </div> <!-- /pi-accordion -->
    <button class="push-menu-close-button" onclick="kub.toggleToc()"></button>
  </div> <!-- /docsToc -->

  <div id="docsContent">
        <p><a href="/editdocs#docs/concepts/workloads/controllers/petset.md" id="editPageButton">Edit This Page</a></p>

        
          <h1>PetSets</h1>
        

        <p><strong>Warning:</strong> Starting in Kubernetes version 1.5, PetSet has been renamed to <a href="/docs/concepts/abstractions/controllers/statefulsets">StatefulSet</a>. To use (or continue to use) PetSet in Kubernetes 1.5, you <em>must</em> <a href="/docs/tasks/manage-stateful-set/upgrade-pet-set-to-stateful-set/">migrate</a> your existing PetSets to StatefulSets. For information on working with StatefulSet, see the tutorial on <a href="/docs/tutorials/stateful-application/run-replicated-stateful-application">how to run replicated stateful applications</a>.</p>

<p><strong>This document has been deprecated</strong>, but can still apply if you’re using
  Kubernetes version 1.4 or earlier.</p>

<ul id="markdown-toc">
  <li><a href="#what-is-a-petset" id="markdown-toc-what-is-a-petset">What is a PetSet?</a></li>
  <li><a href="#when-to-use-petset" id="markdown-toc-when-to-use-petset">When to use PetSet?</a></li>
  <li><a href="#alpha-limitations" id="markdown-toc-alpha-limitations">Alpha limitations</a></li>
  <li><a href="#example-petset" id="markdown-toc-example-petset">Example PetSet</a></li>
  <li><a href="#pet-identity" id="markdown-toc-pet-identity">Pet Identity</a>    <ul>
      <li><a href="#ordinal-index" id="markdown-toc-ordinal-index">Ordinal index</a></li>
      <li><a href="#stable-storage" id="markdown-toc-stable-storage">Stable storage</a></li>
      <li><a href="#network-identity" id="markdown-toc-network-identity">Network identity</a></li>
    </ul>
  </li>
  <li><a href="#peer-discovery" id="markdown-toc-peer-discovery">Peer discovery</a></li>
  <li><a href="#updating-a-petset" id="markdown-toc-updating-a-petset">Updating a PetSet</a></li>
  <li><a href="#scaling-a-petset" id="markdown-toc-scaling-a-petset">Scaling a PetSet</a></li>
  <li><a href="#image-upgrades" id="markdown-toc-image-upgrades">Image upgrades</a></li>
  <li><a href="#deleting-a-petset" id="markdown-toc-deleting-a-petset">Deleting a PetSet</a></li>
  <li><a href="#troubleshooting" id="markdown-toc-troubleshooting">Troubleshooting</a></li>
  <li><a href="#future-work" id="markdown-toc-future-work">Future Work</a></li>
  <li><a href="#alternatives" id="markdown-toc-alternatives">Alternatives</a></li>
  <li><a href="#next-steps" id="markdown-toc-next-steps">Next steps</a></li>
</ul>

<p><strong>Terminology</strong></p>

<p>Throughout this doc you will see a few terms that are sometimes used interchangeably elsewhere, that might cause confusion. This section attempts to clarify them.</p>

<ul>
  <li>Node: A single virtual or physical machine in a Kubernetes cluster.</li>
  <li>Cluster: A group of nodes in a single failure domain, unless mentioned otherwise.</li>
  <li>Persistent Volume Claim (PVC): A request for storage, typically a <a href="/docs/user-guide/persistent-volumes/walkthrough/">persistent volume</a>.</li>
  <li>Host name: The hostname attached to the UTS namespace of the pod, i.e. the output of <code class="highlighter-rouge">hostname</code> in the pod.</li>
  <li>DNS/Domain name: A <em>cluster local</em> domain name resolvable using standard methods (e.g.: <a href="http://linux.die.net/man/3/gethostbyname">gethostbyname</a>).</li>
  <li>Ordinality: the property of being “ordinal”, or occupying a position in a sequence.</li>
  <li>Pet: a single member of a PetSet; more generally, a stateful application.</li>
  <li>Peer: a process running a server, capable of communicating with other such processes.</li>
</ul>

<p><strong>Prerequisites</strong></p>

<p>This doc assumes familiarity with the following Kubernetes concepts:</p>

<ul>
  <li><a href="/docs/user-guide/pods/single-container/">Pods</a></li>
  <li><a href="/docs/concepts/services-networking/dns-pod-service/">Cluster DNS</a></li>
  <li><a href="/docs/user-guide/services/#headless-services">Headless Services</a></li>
  <li><a href="/docs/concepts/storage/volumes/">Persistent Volumes</a></li>
  <li><a href="https://github.com/kubernetes/examples/tree/master/staging/persistent-volume-provisioning/README.md">Persistent Volume Provisioning</a></li>
</ul>

<p>You need a working Kubernetes cluster at version &gt;= 1.3, with a healthy DNS <a href="http://releases.k8s.io/master/cluster/addons/README.md">cluster addon</a> at version &gt;= 15. You cannot use PetSet on a hosted Kubernetes provider that has disabled <code class="highlighter-rouge">alpha</code> resources.</p>

<h2 id="what-is-a-petset">What is a PetSet?</h2>

<p>In Kubernetes, most pod management abstractions group them into disposable units of work that compose a micro service. Replication controllers for example, are designed with a weak guarantee - that there should be N replicas of a particular pod template. The pods are treated as stateless units, if one of them is unhealthy or superseded by a newer version, the system just disposes it.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    foo.default.svc.cluster.local
             |service|
             /       \
    | pod-asdf |    | pod-zxcv |
</code></pre></div></div>

<p>A PetSet, in contrast, is a group of stateful pods that require a stronger notion of identity. The document refers to these as “clustered applications”.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   *.foo.default.svc.cluster.local
    | mysql-0 | &lt;-&gt; | mysql-1 |
      [pv 0]          [pv 1]
</code></pre></div></div>

<p>The co-ordinated deployment of clustered applications is notoriously hard. They require stronger notions of identity and membership, which they use in opaque internal protocols, and are especially prone to race conditions and deadlock. Traditionally administrators have deployed these applications by leveraging nodes as stable, long-lived entities with persistent storage and static ips.</p>

<p>The goal of PetSet is to decouple this dependency by assigning identities to individual instances of an application that are not anchored to the underlying physical infrastructure. For the rest of this document we will refer to these entities as “Pets”. Our use of this term is predated by the “Pets vs Cattle” analogy.</p>

<p><strong>Relationship between Pets and Pods</strong>: PetSet requires there be {0..N-1} Pets. Each Pet has a deterministic name - PetSetName-Ordinal, and a unique identity. Each Pet has at most one pod, and each PetSet has at most one Pet with a given identity.</p>

<h2 id="when-to-use-petset">When to use PetSet?</h2>

<p>A PetSet ensures that a specified number of “pets” with unique identities are running at any given time. The identity of a Pet is comprised of:</p>

<ul>
  <li>a stable hostname, available in DNS</li>
  <li>an ordinal index</li>
  <li>stable storage: linked to the ordinal &amp; hostname</li>
</ul>

<p>These properties are useful in deploying stateful applications. However most stateful applications are also clustered, meaning they form groups with strict membership requirements that rely on stored state. PetSet also helps with the 2 most common problems encountered managing such clustered applications:</p>

<ul>
  <li>discovery of peers for quorum</li>
  <li>startup/teardown ordering</li>
</ul>

<p>Only use PetSet if your application requires some or all of these properties. Managing pods as stateless replicas is vastly easier.</p>

<p>Example workloads for PetSet:</p>

<ul>
  <li>Databases like MySQL or PostgreSQL that require a single instance attached to an NFS persistent volume at any time</li>
  <li>Clustered software like Zookeeper, Etcd, or Elasticsearch that require stable membership.</li>
</ul>

<h2 id="alpha-limitations">Alpha limitations</h2>

<p>Before you start deploying applications as PetSets, there are a few limitations you should understand.</p>

<ul>
  <li>PetSet is an <em>alpha</em> resource, not available in any Kubernetes release prior to 1.3.</li>
  <li>As with all alpha/beta resources, it can be disabled through the <code class="highlighter-rouge">--runtime-config</code> option passed to the apiserver, and in fact most likely will be disabled on hosted offerings of Kubernetes.</li>
  <li>The only updatable field on a PetSet is <code class="highlighter-rouge">replicas</code>.</li>
  <li>The storage for a given pet must either be provisioned by a <a href="https://github.com/kubernetes/examples/tree/master/staging/persistent-volume-provisioning/README.md">persistent volume provisioner</a> based on the requested <code class="highlighter-rouge">storage class</code>, or pre-provisioned by an admin. Note that persistent volume provisioning is also currently in alpha.</li>
  <li>Deleting and/or scaling a PetSet down will <em>not</em> delete the volumes associated with the PetSet. This is done to ensure safety first, your data is more valuable than an auto purge of all related PetSet resources. <strong>Deleting the Persistent Volume Claims will result in a deletion of the associated volumes</strong>.</li>
  <li>All PetSets currently require a “governing service”, or a Service responsible for the network identity of the pets. The user is responsible for this Service.</li>
  <li>Updating an existing PetSet is currently a manual process, meaning you either need to deploy a new PetSet with the new image version, or orphan Pets one by one, update their image, and join them back to the cluster.</li>
</ul>

<h2 id="example-petset">Example PetSet</h2>

<p>We’ll create a basic PetSet to demonstrate how Pets are assigned unique and “sticky” identities.</p>

<table class="includecode">
    <thead>
        <tr>
            <th>
                <a href="https://raw.githubusercontent.com/kubernetes/website/master/docs/concepts/workloads/controllers/petset.yaml" download="petset.yaml">
                    <code>petset.yaml</code>
                </a>
                <img src="/images/copycode.svg" style="max-height:24px" onclick="copyCode('petset.yaml')" title="Copy petset.yaml to clipboard" />
            </th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
<div id="petset.yaml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># A headless service to create DNS records</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">nginx</span>
  <span class="na">labels</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> <span class="s">nginx</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">ports</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">port</span><span class="pi">:</span> <span class="s">80</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">web</span>
  <span class="c1"># *.nginx.default.svc.cluster.local</span>
  <span class="na">clusterIP</span><span class="pi">:</span> <span class="s">None</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> <span class="s">nginx</span>
<span class="nn">---</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">PetSet</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">web</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">serviceName</span><span class="pi">:</span> <span class="s2">"</span><span class="s">nginx"</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="s">2</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">nginx</span>
      <span class="na">annotations</span><span class="pi">:</span>
        <span class="s">pod.alpha.kubernetes.io/initialized</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">terminationGracePeriodSeconds</span><span class="pi">:</span> <span class="s">0</span>
      <span class="na">containers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">nginx</span>
        <span class="na">image</span><span class="pi">:</span> <span class="s">gcr.io/google_containers/nginx-slim:0.8</span>
        <span class="na">ports</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">containerPort</span><span class="pi">:</span> <span class="s">80</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">web</span>
        <span class="na">volumeMounts</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">www</span>
          <span class="na">mountPath</span><span class="pi">:</span> <span class="s">/usr/share/nginx/html</span>
  <span class="na">volumeClaimTemplates</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">www</span>
      <span class="na">annotations</span><span class="pi">:</span>
        <span class="s">volume.alpha.kubernetes.io/storage-class</span><span class="pi">:</span> <span class="s">anything</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">accessModes</span><span class="pi">:</span> <span class="pi">[</span> <span class="s2">"</span><span class="s">ReadWriteOnce"</span> <span class="pi">]</span>
      <span class="na">resources</span><span class="pi">:</span>
        <span class="na">requests</span><span class="pi">:</span>
          <span class="na">storage</span><span class="pi">:</span> <span class="s">1Gi</span>
</code></pre></div></div>
</td>
        </tr>
    </tbody>
</table>

<p>Saving this config into <code class="highlighter-rouge">petset.yaml</code> and submitting it to a Kubernetes cluster should create the defined PetSet and Pets it manages:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl create <span class="nt">-f</span> petset.yaml
service <span class="s2">"nginx"</span> created
petset <span class="s2">"web"</span> created
</code></pre></div></div>

<h2 id="pet-identity">Pet Identity</h2>

<p>The identity of a Pet sticks to it, regardless of which node it’s (re) scheduled on. We can examine the identity of the pets we just created.</p>

<h3 id="ordinal-index">Ordinal index</h3>

<p>you should see 2 pods with predictable names formatted thus: <code class="highlighter-rouge">$(petset name)-$(ordinal index assigned by petset controller)</code></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl get po
NAME      READY     STATUS    RESTARTS   AGE
web-0     1/1       Running   0          10m
web-1     1/1       Running   0          10m
</code></pre></div></div>

<h3 id="stable-storage">Stable storage</h3>

<p>2 persistent volumes, one per pod. This is auto created by the PetSet based on the <code class="highlighter-rouge">volumeClaimTemplate</code> field</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl get pv
NAME                                       CAPACITY   ACCESSMODES   STATUS    CLAIM               REASON    AGE
pvc-90234946-3717-11e6-a46e-42010af00002   1Gi        RWO           Bound     default/www-web-0             11m
pvc-902733c2-3717-11e6-a46e-42010af00002   1Gi        RWO           Bound     default/www-web-1             11m
</code></pre></div></div>

<h3 id="network-identity">Network identity</h3>

<p>The network identity has 2 parts. First, we created a headless Service that controls the domain within which we create Pets. The domain managed by this Service takes the form: <code class="highlighter-rouge">$(service name).$(namespace).svc.cluster.local</code>, where “cluster.local” is the <a href="/docs/concepts/services-networking/dns-pod-service/">cluster domain</a>. As each pet is created, it gets a matching DNS subdomain, taking the form: <code class="highlighter-rouge">$(petname).$(governing service domain)</code>, where the governing service is defined by the <code class="highlighter-rouge">serviceName</code> field on the PetSet.</p>

<p>Here are some examples of choices for Cluster Domain, Service name, PetSet name, and how that affects the DNS names for the Pets and the hostnames in the Pet’s pods:</p>

<table>
  <thead>
    <tr>
      <th>Cluster Domain</th>
      <th>Service (ns/name)</th>
      <th>PetSet (ns/name)</th>
      <th>PetSet Domain</th>
      <th>Pet DNS</th>
      <th>Pet Hostname</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>cluster.local</td>
      <td>default/nginx</td>
      <td>default/web</td>
      <td>nginx.default.svc.cluster.local</td>
      <td>web-{0..N-1}.nginx.default.svc.cluster.local</td>
      <td>web-{0..N-1}</td>
    </tr>
    <tr>
      <td>cluster.local</td>
      <td>foo/nginx</td>
      <td>foo/web</td>
      <td>nginx.foo.svc.cluster.local</td>
      <td>web-{0..N-1}.nginx.foo.svc.cluster.local</td>
      <td>web-{0..N-1}</td>
    </tr>
    <tr>
      <td>kube.local</td>
      <td>foo/nginx</td>
      <td>foo/web</td>
      <td>nginx.foo.svc.kube.local</td>
      <td>web-{0..N-1}.nginx.foo.svc.kube.local</td>
      <td>web-{0..N-1}</td>
    </tr>
  </tbody>
</table>

<p>Note that Cluster Domain will be set to <code class="highlighter-rouge">cluster.local</code> unless <a href="https://github.com/kubernetes/kubernetes/blob/master/examples/cluster-dns/README.md">otherwise configured</a>.</p>

<p>Let’s verify our assertion with a simple test.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl get svc
NAME          CLUSTER-IP     EXTERNAL-IP       PORT<span class="o">(</span>S<span class="o">)</span>   AGE
nginx         None           &lt;none&gt;            80/TCP    12m
...
</code></pre></div></div>

<p>First, the PetSet provides a stable hostname:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="k">for </span>i <span class="k">in </span>0 1<span class="p">;</span> <span class="k">do </span>kubectl <span class="nb">exec </span>web-<span class="nv">$i</span> <span class="nt">--</span> sh <span class="nt">-c</span> <span class="s1">'hostname'</span><span class="p">;</span> <span class="k">done
</span>web-0
web-1
</code></pre></div></div>

<p>And the hostname is linked to the in-cluster DNS address:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl run <span class="nt">-i</span> <span class="nt">--tty</span> <span class="nt">--image</span> busybox dns-test <span class="nt">--restart</span><span class="o">=</span>Never /bin/sh
dns-test <span class="c"># nslookup web-0.nginx</span>
Server:    10.0.0.10
Address 1: 10.0.0.10 kube-dns.kube-system.svc.cluster.local

Name:      web-0.nginx
Address 1: 10.180.3.5

dns-test <span class="c"># nslookup web-1.nginx</span>
Server:    10.0.0.10
Address 1: 10.0.0.10 kube-dns.kube-system.svc.cluster.local

Name:      web-1.nginx
Address 1: 10.180.0.9
</code></pre></div></div>

<p>The containers are running nginx webservers, which by default will look for an index.html file in <code class="highlighter-rouge">/usr/share/nginx/html/index.html</code>. That directory is backed by a <code class="highlighter-rouge">PersistentVolume</code> created by the PetSet. So let’s write our hostname there:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="k">for </span>i <span class="k">in </span>0 1<span class="p">;</span> <span class="k">do
  </span>kubectl <span class="nb">exec </span>web-<span class="nv">$i</span> <span class="nt">--</span> sh <span class="nt">-c</span> <span class="s1">'echo $(hostname) &gt; /usr/share/nginx/html/index.html'</span><span class="p">;</span>
<span class="k">done</span>
</code></pre></div></div>

<p>And verify each webserver serves its own hostname:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="k">for </span>i <span class="k">in </span>0 1<span class="p">;</span> <span class="k">do </span>kubectl <span class="nb">exec</span> <span class="nt">-it</span> web-<span class="nv">$i</span> <span class="nt">--</span> curl localhost<span class="p">;</span> <span class="k">done
</span>web-0
web-1
</code></pre></div></div>

<p>Now delete all pods in the petset:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl delete po <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>nginx
pod <span class="s2">"web-0"</span> deleted
pod <span class="s2">"web-1"</span> deleted
</code></pre></div></div>

<p>Wait for them to come back up, and try to retrieve the previously written hostname through the DNS name of the peer. They match, because the storage, DNS name, and hostname stick to the Pet no matter where it gets scheduled:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl <span class="nb">exec</span> <span class="nt">-it</span> web-1 <span class="nt">--</span> curl web-0.nginx
web-0
<span class="nv">$ </span>kubectl <span class="nb">exec</span> <span class="nt">-it</span> web-0 <span class="nt">--</span> curl web-1.nginx
web-1
</code></pre></div></div>

<h2 id="peer-discovery">Peer discovery</h2>

<p>A pet can piece together its own identity:</p>

<ol>
  <li>Use the <a href="/docs/tasks/configure-pod-container/downward-api-volume-expose-pod-information/">downward api</a> to find its pod name</li>
  <li>Run <code class="highlighter-rouge">hostname</code> to find its DNS name</li>
  <li>Run <code class="highlighter-rouge">mount</code> or <code class="highlighter-rouge">df</code> to find its volumes (usually this is unnecessary)</li>
</ol>

<p>It’s not necessary to “discover” the governing Service of a PetSet, since it’s known at creation time you can simply pass it down through an <a href="/docs/user-guide/environment-guide">environment variable</a>.</p>

<p>Usually pets also need to find their peers. In the previous nginx example, we just used <code class="highlighter-rouge">kubectl</code> to get the names of existing pods, and as humans, we could tell which ones belonged to a given PetSet. Another way to find peers is by contacting the API server, just like <code class="highlighter-rouge">kubectl</code>, but that has several disadvantages (you end up implementing a Kubernetes specific init system that runs as pid 1 in your application container).</p>

<p>PetSet gives you a way to discover your peers using DNS records. To illustrate this we can use the previous example (note: one usually doesn’t <code class="highlighter-rouge">apt-get</code> in a container).</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl <span class="nb">exec</span> <span class="nt">-it</span> web-0 /bin/sh
web-0 <span class="c"># apt-get update &amp;&amp; apt-get install -y dnsutils</span>
...

web-0 <span class="c"># nslookup -type=srv nginx.default</span>
Server:        10.0.0.10
Address:    10.0.0.10#53

nginx.default.svc.cluster.local    service <span class="o">=</span> 10 50 0 web-1.ub.default.svc.cluster.local.
nginx.default.svc.cluster.local    service <span class="o">=</span> 10 50 0 web-0.ub.default.svc.cluster.local.
</code></pre></div></div>

<h2 id="updating-a-petset">Updating a PetSet</h2>

<p>You cannot update any field of the PetSet except <code class="highlighter-rouge">spec.replicas</code> and the <code class="highlighter-rouge">containers</code> in the podTemplate. Updating <code class="highlighter-rouge">spec.replicas</code> will scale the PetSet, updating <code class="highlighter-rouge">containers</code> will not have any effect till a Pet is deleted, at which time it is recreated with the modified podTemplate.</p>

<h2 id="scaling-a-petset">Scaling a PetSet</h2>

<p>You can scale a PetSet by updating the “replicas” field. Note however that the controller will only:</p>

<ol>
  <li>Create one pet at a time, in order from {0..N-1}, and wait till each one is in <a href="/docs/user-guide/pod-states">Running and Ready</a> before creating the next</li>
  <li>Delete one pet at a time, in reverse order from {N-1..0}, and wait till each one is completely shutdown (past its <a href="/docs/concepts/workloads/pods/pod/#termination-of-pods">terminationGracePeriodSeconds</a> before deleting the next</li>
</ol>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl get po
NAME     READY     STATUS    RESTARTS   AGE
web-0    1/1       Running   0          30s
web-1    1/1       Running   0          36s

<span class="nv">$ </span>kubectl patch petset web <span class="nt">-p</span> <span class="s1">'{"spec":{"replicas":3}}'</span>
<span class="s2">"web"</span> patched

<span class="nv">$ </span>kubectl get po
NAME     READY     STATUS    RESTARTS   AGE
web-0    1/1       Running   0          40s
web-1    1/1       Running   0          46s
web-2    1/1       Running   0          8s
</code></pre></div></div>

<p>You can also use the <code class="highlighter-rouge">kubectl scale</code> command:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl get petset
NAME      DESIRED   CURRENT   AGE
web       3         3         24m

<span class="nv">$ </span>kubectl scale petset web <span class="nt">--replicas</span><span class="o">=</span>5
petset <span class="s2">"web"</span> scaled

<span class="nv">$ </span>kubectl get po <span class="nt">--watch-only</span>
NAME      READY     STATUS              RESTARTS   AGE
web-0     1/1       Running             0          10m
web-1     1/1       Running             0          27m
web-2     1/1       Running             0          10m
web-3     1/1       Running             0          3m
web-4     0/1       ContainerCreating   0          48s

<span class="nv">$ </span>kubectl get petset web
NAME      DESIRED   CURRENT   AGE
web       5         5         30m
</code></pre></div></div>

<p>Note however, that scaling up to N and back down to M <em>will not</em> delete the volumes of the M-N pets, as described in the section on <a href="#deleting-a-petset">deletion</a>, i.e. scaling back up to M creates new pets that use the same volumes. To see this in action, scale the PetSet back down to 3:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl get po <span class="nt">--watch-only</span>
web-4     1/1       Terminating   0         4m
web-4     1/1       Terminating   0         4m
web-3     1/1       Terminating   0         6m
web-3     1/1       Terminating   0         6m
</code></pre></div></div>

<p>Note that we still have 5 pvcs:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl get pvc
NAME        STATUS    VOLUME                                     CAPACITY   ACCESSMODES   AGE
www-web-0   Bound     pvc-42ca5cef-8113-11e6-82f6-42010af00002   1Gi        RWO           32m
www-web-1   Bound     pvc-42de30af-8113-11e6-82f6-42010af00002   1Gi        RWO           32m
www-web-2   Bound     pvc-ba416413-8115-11e6-82f6-42010af00002   1Gi        RWO           14m
www-web-3   Bound     pvc-ba45f19c-8115-11e6-82f6-42010af00002   1Gi        RWO           14m
www-web-4   Bound     pvc-ba47674a-8115-11e6-82f6-42010af00002   1Gi        RWO           14m
</code></pre></div></div>

<p>This allows you to upgrade the image of a petset and have it come back up with the same data, as described in the next section.</p>

<h2 id="image-upgrades">Image upgrades</h2>

<p>PetSet currently <em>does not</em> support automated image upgrade as noted in the section on <a href="#alpha-limitations">limitations</a>, however you can update the <code class="highlighter-rouge">image</code> field of any container in the podTemplate and delete Pets one by one, the PetSet controller will recreate it with the new image.</p>

<p>Edit the image on the PetSet to <code class="highlighter-rouge">gcr.io/google_containers/nginx-slim:0.7</code> and delete 1 Pet:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="k">for </span>p <span class="k">in </span>0 1 2<span class="p">;</span> <span class="k">do </span>kubectl get po web-<span class="nv">$p</span> <span class="nt">--template</span> <span class="s1">'{{range $i, $c := .spec.containers}}{{$c.image}}{{end}}'</span><span class="p">;</span> <span class="nb">echo</span><span class="p">;</span> <span class="k">done
</span>gcr.io/google_containers/nginx-slim:0.8
gcr.io/google_containers/nginx-slim:0.8
gcr.io/google_containers/nginx-slim:0.8

<span class="nv">$ </span>kubectl delete po web-0
pod <span class="s2">"web-0"</span> deleted

<span class="nv">$ </span><span class="k">for </span>p <span class="k">in </span>0 1 2<span class="p">;</span> <span class="k">do </span>kubectl get po web-<span class="nv">$p</span> <span class="nt">--template</span> <span class="s1">'{{range $i, $c := .spec.containers}}{{$c.image}}{{end}}'</span><span class="p">;</span> <span class="nb">echo</span><span class="p">;</span> <span class="k">done
</span>gcr.io/google_containers/nginx-slim:0.7
gcr.io/google_containers/nginx-slim:0.8
gcr.io/google_containers/nginx-slim:0.8
</code></pre></div></div>

<p>Delete the remaining 2:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl delete po web-1 web-2
pod <span class="s2">"web-1"</span> deleted
pod <span class="s2">"web-2"</span> deleted
</code></pre></div></div>

<p>Wait till the PetSet is stable and check the images:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="k">for </span>p <span class="k">in </span>0 1 2<span class="p">;</span> <span class="k">do </span>kubectl get po web-<span class="nv">$p</span> <span class="nt">--template</span> <span class="s1">'{{range $i, $c := .spec.containers}}{{$c.image}}{{end}}'</span><span class="p">;</span> <span class="nb">echo</span><span class="p">;</span> <span class="k">done
</span>gcr.io/google_containers/nginx-slim:0.7
gcr.io/google_containers/nginx-slim:0.7
gcr.io/google_containers/nginx-slim:0.7
</code></pre></div></div>

<h2 id="deleting-a-petset">Deleting a PetSet</h2>

<p>Deleting a PetSet through kubectl will scale it down to 0, thereby deleting all the Pets. If you wish to delete just the PetSet and not the Pets, use <code class="highlighter-rouge">--cascade=false</code>:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl delete <span class="nt">-f</span> petset.yaml <span class="nt">--cascade</span><span class="o">=</span><span class="nb">false
</span>petset <span class="s2">"web"</span> deleted

<span class="nv">$ </span>kubectl get po <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>nginx
NAME      READY     STATUS    RESTARTS   AGE
web-0     1/1       Running   0          21h
web-1     1/1       Running   0          21h

<span class="nv">$ </span>kubectl delete po <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>nginx
pod <span class="s2">"web-0"</span> deleted
pod <span class="s2">"web-1"</span> deleted
</code></pre></div></div>

<p>Deleting the pods will <em>not</em> delete the volumes. Until we finalize the recycle policy for these volumes they will have to get cleaned up by an admin. This is to ensure that you have the chance to copy data off the volume before deleting it. Simply deleting the PVC after the pods have left the <a href="/docs/concepts/workloads/pods/pod/#termination-of-pods">terminating state</a> should trigger deletion of the backing Persistent Volumes.</p>

<p><strong>Note: you will lose all your data once the PVC is deleted, do this with caution.</strong></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl get po <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>nginx
<span class="nv">$ </span>kubectl get pvc <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>nginx
NAME        STATUS    VOLUME                                     CAPACITY   ACCESSMODES   AGE
www-web-0   Bound     pvc-62d271cd-3822-11e6-b1b7-42010af00002   0                        21h
www-web-1   Bound     pvc-62d6750e-3822-11e6-b1b7-42010af00002   0                        21h

<span class="nv">$ </span>kubectl delete pvc <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>nginx
<span class="nv">$ </span>kubectl get pv
</code></pre></div></div>

<p>If you simply want to clean everything:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ grace</span><span class="o">=</span><span class="k">$(</span>kubectl get po web-0 <span class="nt">--template</span> <span class="s1">'{{.spec.terminationGracePeriodSeconds}}'</span><span class="k">)</span>
<span class="nv">$ </span>kubectl delete petset,po <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>nginx
<span class="nv">$ </span>sleep <span class="nv">$grace</span>
<span class="nv">$ </span>kubectl delete pvc <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>nginx

</code></pre></div></div>

<h2 id="troubleshooting">Troubleshooting</h2>

<p>You might have noticed an <code class="highlighter-rouge">annotations</code> field in all the PetSets shown above.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">annotations</span><span class="pi">:</span>
  <span class="s">pod.alpha.kubernetes.io/initialized</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
</code></pre></div></div>

<p>This field is a debugging hook. It pauses any scale up/down operations on the entire PetSet. If you’d like to pause a petset after each pet, set it to <code class="highlighter-rouge">false</code> in the template, wait for each pet to come up, verify it has initialized correctly, and then set it to <code class="highlighter-rouge">true</code> using <code class="highlighter-rouge">kubectl edit</code> on the pet (setting it to <code class="highlighter-rouge">false</code> on <em>any pet</em> is enough to pause the PetSet). If you don’t need it, create the PetSet with it set to <code class="highlighter-rouge">true</code> as shown. This is surprisingly useful in debugging bootstrapping race conditions.</p>

<h2 id="future-work">Future Work</h2>

<p>There are a LOT of planned improvements since PetSet is still in alpha.</p>

<ul>
  <li>Data gravity and local storage</li>
  <li>Richer notification events</li>
  <li>Public network identities</li>
  <li>WAN cluster deployments (multi-AZ/region/cloud provider)</li>
  <li>Image and node upgrades</li>
</ul>

<p>This list goes on, if you have examples, ideas or thoughts, please contribute.</p>

<h2 id="alternatives">Alternatives</h2>

<p>Deploying one RC of size 1/Service per pod is a popular alternative, as is simply deploying a DaemonSet that utilizes the identity of a Node.</p>

<h2 id="next-steps">Next steps</h2>

<ul>
  <li>Learn about <a href="/docs/concepts/abstractions/controllers/statefulsets/">StatefulSet</a>,
the replacement for PetSet introduced in Kubernetes version 1.5.</li>
  <li><a href="/docs/tasks/manage-stateful-set/upgrade-pet-set-to-stateful-set/">Migrate your existing PetSets to StatefulSets</a>
when upgrading to Kubernetes version 1.5 or higher.</li>
</ul>



        <p><a href=""><img src="https://kubernetes-site.appspot.com/UA-36037335-10/GitHub/docs/concepts/workloads/controllers/petset.md?pixel" alt="Analytics" /></a></p>
        
	
        <script type="text/javascript">
            PDRTJS_settings_8345992 = {
                "id" : "8345992",
                "unique_id" : "/docs/concepts/workloads/controllers/petset/",
                "title" : "PetSets",
                "permalink" : "http://kubernetes.github.io/docs/concepts/workloads/controllers/petset/"
            };
            (function(d,c,j){if(!document.getElementById(j)){var pd=d.createElement(c),s;pd.id=j;pd.src=('https:'==document.location.protocol)?'https://polldaddy.com/js/rating/rating.js':'http://i0.poll.fm/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd,s);}}(document,'script','pd-rating-js'));
        </script>
        <a href="" onclick="window.open('https://github.com/kubernetes/kubernetes.github.io/issues/new?title=Issue%20with%20' +
        'k8s.io'+window.location.pathname)" class="button issue">Create an Issue</a>
	
        
          <a href="/editdocs#docs/concepts/workloads/controllers/petset.md" class="button issue">Edit this Page</a>
        
    
    </div>
</section>

<footer>
    <main class="light-text">
        <nav>
            <a href="/docs/tutorials/stateless-application/hello-minikube/">Get Started</a>
            <a href="/docs/home/">Documentation</a>
            <a href="http://blog.kubernetes.io/">Blog</a>
            <a href="/partners/">Partners</a>
            <a href="/community/">Community</a>
            <a href="/case-studies/">Case Studies</a>
        </nav>
        <div class="social">
            <div>
                <a href="https://twitter.com/kubernetesio" class="twitter"><span>twitter</span></a>
                <a href="https://github.com/kubernetes/kubernetes" class="github"><span>Github</span></a>
                <a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
            </div>
            <div>
                <a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
                <a href="https://groups.google.com/forum/#!forum/kubernetes-users" class="mailing-list"><span>Mailing List</span></a>
                <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
            </div>
            <div>
                <a href="/docs/setup/pick-right-solution/" class="button">Get Kubernetes</a>
                <a href="https://github.com/kubernetes/kubernetes" class="button">Contribute</a>
            </div>
        </div>
        <div id="miceType" class="center">
            &copy; 2017 The Kubernetes Authors | Documentation Distributed under <a href="https://git.k8s.io/website/LICENSE" class="light-text">CC BY 4.0</a>
        </div>
        <div id="miceType" class="center">
            Copyright &copy; 2017 The Linux Foundation&reg;. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our Trademark Usage page: <a href="https://www.linuxfoundation.org/trademark-usage" class="light-text">https://www.linuxfoundation.org/trademark-usage</a>
        </div>
    </main>
</footer>

<button class="flyout-button" onclick="kub.toggleToc()"></button>

<style>
.cse .gsc-control-cse, .gsc-control-cse, {
    padding: 0;
}
  .gsc-control-cse table, .gsc-control-cse-en table {
      margin:0px !important;
  }
  .gsc-above-wrapper-area {
      border-bottom: 0;
  }
</style>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-36037335-10', 'auto');
ga('send', 'pageview');

// hide docs nav area if no nav is present, or if nav only contains a link to the current page
(function () {
    window.addEventListener('DOMContentLoaded', init)

        // play nice with our neighbors
        function init() {
            window.removeEventListener('DOMContentLoaded', init)
                hideNav()
        }

    function hideNav(toc){
        if (!toc) toc = document.querySelector('#docsToc')
            var container = toc.querySelector('.container')

                // container is built dynamically, so it may not be present on the first runloop
                if (container) {
                    if (container.childElementCount === 0 || toc.querySelectorAll('a.item').length === 1) {
                        toc.style.display = 'none'
                            document.getElementById('docsContent').style.width = '100%'
                    }
                } else {
                    requestAnimationFrame(function () {
                        hideNav(toc)
                    })
                }
    }
})();
</script>

<!-- Commenting out AnswerDash for now; we need to work on our list of questions/answers/design first
    <!-- Start of AnswerDash script <script>var AnswerDash;!function(e,t,n,s,a){if(!t.getElementById(s)){var i,r=t.createElement(n),c=t.getElementsByTagName(n)[0];e[a]||(i=e[a]=function(){i.__oninit.push(arguments)},i.__oninit=[]),r.type="text/javascript",r.async=!0,r.src="https://p1.answerdash.com/answerdash.min.js?siteid=756",r.setAttribute("id",s),c.parentNode.insertBefore(r,c)}}(window,document,"script","answerdash-script","AnswerDash");</script> <!-- End of AnswerDash script -->


</body>
</html>
