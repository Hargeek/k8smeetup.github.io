
<p>本文介绍容器环境中对容器可用的资源。</p>

<ul id="markdown-toc">
  <li><a href="#容器环境" id="markdown-toc-容器环境">容器环境</a>    <ul>
      <li><a href="#容器信息" id="markdown-toc-容器信息">容器信息</a></li>
      <li><a href="#集群信息" id="markdown-toc-集群信息">集群信息</a></li>
    </ul>
  </li>
  <li><a href="#whats-next" id="markdown-toc-whats-next">What’s next</a></li>
</ul>

<h2 id="容器环境">容器环境</h2>

<p>Kubernetes 容器环境为容器提供了几类重要的资源：</p>

<ul>
  <li>一个文件系统，其中包含一个<a href="/docs/concepts/containers/images/">镜像</a>和一个或多个<a href="/docs/concepts/storage/volumes/">卷</a>。</li>
  <li>容器本身相关的信息。</li>
  <li>集群中其他对象相关的信息。</li>
</ul>

<h3 id="容器信息">容器信息</h3>

<p>容器的 <em>hostname</em> 是容器所在的 Pod 名称。 可以通过 <code class="highlighter-rouge">hostname</code> 命令或调用 libc 中的
<a href="http://man7.org/linux/man-pages/man2/gethostname.2.html"><code class="highlighter-rouge">gethostname</code></a>
函数来获取。</p>

<p>Pod 名称和名字空间可以通过
<a href="/docs/tasks/inject-data-application/downward-api-volume-expose-pod-information/">downward API</a> 以环境变量方式访问。</p>

<p>与 Docker 镜像中静态指定的环境变量一样，Pod 中用户定义的环境变量也可用于容器。</p>

<h3 id="集群信息">集群信息</h3>

<p>容器创建时运行的所有服务的列表都会作为环境变量提供给容器。
这些环境变量与 Docker 链接语法相匹配。</p>

<p>对一个名为 <em>foo</em>，映射到名为 <em>bar</em> 的容器端口的服务，
会定义如下变量：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">FOO_SERVICE_HOST</span><span class="o">=</span>&lt;服务所在的主机地址&gt;
<span class="nv">FOO_SERVICE_PORT</span><span class="o">=</span>&lt;服务所启用的端口&gt;
</code></pre></div></div>

<p>服务具有专用 IP 地址，如果启用了 <a href="http://releases.k8s.io/master/cluster/addons/dns/">DNS 插件</a>，还可以在容器中通过 DNS 进行访问。</p>

<h2 id="whats-next">What’s next</h2>

<ul>
  <li>查看<a href="/docs/concepts/containers/container-lifecycle-hooks/">容器生命周期挂钩（hooks）</a>了解更多。</li>
  <li>获取<a href="/docs/tasks/configure-pod-container/attach-handler-lifecycle-event/">为容器生命周期事件附加处理程序</a>的实践经验。</li>
</ul>

